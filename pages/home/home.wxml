<!--pages/home/home.wxml-->
<view class="container">

  <view class="container-create">
    <image wx:if="{{hasUserInfo}}" class="avatar" src="{{userInfo.avatarUrl}}"></image>
    <text wx:if="{{hasUserInfo}}">{{userInfo.nickName}}</text>

    <button wx:if="{{!hasUserInfo && canIUse}}" open-type="getUserInfo" class="create-event" bindgetuserinfo="getUserInfo">Login to create new Event</button>
    <button wx:else class="create-event" bindtap="goToCreate">Create new Event</button>
  </view>

  <view class="container-upcoming">
    <text class="upcoming">My upcoming events</text>
    <!-- <button class="dropdown-btn">view events</button> -->
    <view class="upcoming-content">

      <block
      wx:for="{{myEvents}}"
      wx:key="index"
      wx:for-item="myEvent"
      >
        <view class="card-category">
         <view class = "event" >
           <view id = "owner">
            <text class="people">Creator</text>
           </view>
           <view class = "name">
            <text class ="one" >{{myEvent.event}}</text>
           </view>
          </view>

          <view id = "calendar">
            <text class="cuIcon-calendar" ></text>
            <text>{{myEvent.date}}</text>
          </view>
        </view>
      </block>

    </view>
  </view>
  
</view>